//https://wzrd.in/standalone/three-bmfont-text@latest

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).threeBmfontText=t()}}(function(){return function(){return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}}()({1:[function(t,e,r){var n=t("layout-bmfont-text"),i=t("inherits"),o=t("quad-indices"),a=t("three-buffer-vertex-data"),s=t("object-assign"),u=t("./lib/vertices"),f=t("./lib/utils"),c=THREE.BufferGeometry;function h(t){c.call(this),"string"==typeof t&&(t={text:t}),this._opt=s({},t),t&&this.update(t)}e.exports=function(t){return new h(t)},i(h,c),h.prototype.update=function(t){if("string"==typeof t&&(t={text:t}),!(t=s({},this._opt,t)).font)throw new TypeError("must specify a { font } in options");this.layout=n(t);var e=!1!==t.flipY,r=t.font,i=r.common.scaleW,f=r.common.scaleH,c=this.layout.glyphs.filter(function(t){var e=t.data;return e.width*e.height>0});this.visibleGlyphs=c;var h=u.positions(c),p=u.uvs(c,i,f,e),l=o({clockwise:!0,type:"uint16",count:c.length});if(a.index(this,l,1,"uint16"),a.attr(this,"position",h,2),a.attr(this,"uv",p,2),!t.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(t.multipage){var y=u.pages(c);a.attr(this,"page",y,1)}},h.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);f.computeSphere(t,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},h.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.boundingBox,e=this.attributes.position.array,r=this.attributes.position.itemSize;!e||!r||e.length<2?t.makeEmpty():f.computeBox(e,t)}},{"./lib/utils":2,"./lib/vertices":3,inherits:8,"layout-bmfont-text":10,"object-assign":11,"quad-indices":12,"three-buffer-vertex-data":13}],2:[function(t,e,r){var n=2,i={min:[0,0],max:[0,0]};function o(t){var e=t.length/n;i.min[0]=t[0],i.min[1]=t[1],i.max[0]=t[0],i.max[1]=t[1];for(var r=0;r<e;r++){var o=t[r*n+0],a=t[r*n+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}e.exports.computeBox=function(t,e){o(t),e.min.set(i.min[0],i.min[1],0),e.max.set(i.max[0],i.max[1],0)},e.exports.computeSphere=function(t,e){o(t);var r=i.min[0],n=i.min[1],a=i.max[0]-r,s=i.max[1]-n,u=Math.sqrt(a*a+s*s);e.center.set(r+a/2,n+s/2,0),e.radius=u/2}},{}],3:[function(t,e,r){e.exports.pages=function(t){var e=new Float32Array(4*t.length*1),r=0;return t.forEach(function(t){var n=t.data.page||0;e[r++]=n,e[r++]=n,e[r++]=n,e[r++]=n}),e},e.exports.uvs=function(t,e,r,n){var i=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,s=a.x+a.width,u=a.y+a.height,f=a.x/e,c=a.y/r,h=s/e,p=u/r;n&&(c=(r-a.y)/r,p=(r-u)/r),i[o++]=f,i[o++]=c,i[o++]=f,i[o++]=p,i[o++]=h,i[o++]=p,i[o++]=h,i[o++]=c}),i},e.exports.positions=function(t){var e=new Float32Array(4*t.length*2),r=0;return t.forEach(function(t){var n=t.data,i=t.position[0]+n.xoffset,o=t.position[1]+n.yoffset,a=n.width,s=n.height;e[r++]=i,e[r++]=o,e[r++]=i,e[r++]=o+s,e[r++]=i+a,e[r++]=o+s,e[r++]=i+a,e[r++]=o}),e}},{}],4:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===n.call(t.buffer)||Array.isArray(t)}},{}],5:[function(t,e,r){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},{}],6:[function(t,e,r){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],7:[function(t,e,r){var n=t("dtype");e.exports=function(t,e,r){if(!t)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(t)&&t[0]&&"number"==typeof t[0][0]){var i,o,a,s,u=t[0].length,f=t.length*u;e&&"string"!=typeof e||(e=new(n(e||"float32"))(f+r));var c=e.length-r;if(f!==c)throw new Error("source length "+f+" ("+u+"x"+t.length+") does not match destination length "+c);for(i=0,a=r;i<t.length;i++)for(o=0;o<u;o++)e[a++]=null===t[i][o]?NaN:t[i][o]}else if(e&&"string"!=typeof e)e.set(t,r);else{var h=n(e||"float32");if(Array.isArray(t)||"array"===e)for(e=new h(t.length+r),i=0,a=r,s=e.length;a<s;a++,i++)e[a]=null===t[i]?NaN:t[i];else 0===r?e=new h(t):(e=new h(t.length+r)).set(t,r)}return e}},{dtype:6}],8:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],9:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],10:[function(t,e,r){var n=t("word-wrapper"),i=t("xtend"),o=t("as-number"),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],u=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],f="\t".charCodeAt(0),c=" ".charCodeAt(0),h=0,p=1,l=2;function y(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function d(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function g(t,e){if(!t.chars||0===t.chars.length)return null;var r=b(t.chars,e);return r>=0?t.chars[r]:null}function m(t,e,r){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===e&&o.second===r)return o.amount}return 0}function b(t,e,r){for(var n=r=r||0;n<t.length;n++)if(t[n].id===e)return n;return-1}e.exports=function(t){return new y(t)},y.prototype.update=function(t){if(t=i({measure:this._measure},t),this._opt=t,this._opt.tabSize=o(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,r=t.text||"",s=t.font;this._setupSpaceGlyphs(s);var f=n.lines(r,t),c=t.width||0;e.length=0;var y=f.reduce(function(t,e){return Math.max(t,e.width,c)},0),d=0,g=0,v=o(t.lineHeight,s.common.lineHeight),x=s.common.base,w=v-x,A=t.letterSpacing||0,_=v*f.length-w,E=function(t){if("center"===t)return p;if("right"===t)return l;return h}(this._opt.align);g-=_,this._width=y,this._height=_,this._descender=v-x,this._baseline=x,this._xHeight=function(t){for(var e=0;e<a.length;e++){var r=a[e].charCodeAt(0),n=b(t.chars,r);if(n>=0)return t.chars[n].height}return 0}(s),this._capHeight=function(t){for(var e=0;e<u.length;e++){var r=u[e].charCodeAt(0),n=b(t.chars,r);if(n>=0)return t.chars[n].height}return 0}(s),this._lineHeight=v,this._ascender=v-w-this._xHeight;var S=this;f.forEach(function(t,n){for(var i,o=t.start,a=t.end,u=t.width,f=o;f<a;f++){var c=r.charCodeAt(f),h=S.getGlyph(s,c);if(h){i&&(d+=m(s,i.id,h.id));var b=d;E===p?b+=(y-u)/2:E===l&&(b+=y-u),e.push({position:[b,g],data:h,index:f,line:n}),d+=h.xadvance+A,i=h}}g+=v,d=0}),this._linesTotal=f.length},y.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=g(t,c)||function(t){for(var e=0;e<s.length;e++){var r=s[e].charCodeAt(0),n=b(t.chars,r);if(n>=0)return t.chars[n]}return 0}(t)||t.chars[0],r=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=i(e,{x:0,y:0,xadvance:r,id:f,xoffset:0,yoffset:0,width:0,height:0})}},y.prototype.getGlyph=function(t,e){var r=g(t,e);return r||(e===f?this._fallbackTabGlyph:e===c?this._fallbackSpaceGlyph:null)},y.prototype.computeMetrics=function(t,e,r,n){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,u=0,f=0;if(!a.chars||0===a.chars.length)return{start:e,end:e,width:0};r=Math.min(t.length,r);for(var c=e;c<r;c++){var h,p=t.charCodeAt(c);if(h=this.getGlyph(a,p)){h.xoffset;var l=(s+=i?m(a,i.id,h.id):0)+h.xadvance+o,y=s+h.width;if(y>=n||l>=n)break;s=l,u=y,i=h}f++}return i&&(u+=i.xoffset),{start:e,end:e+f,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(t){Object.defineProperty(y.prototype,t,{get:d(t),configurable:!0})})},{"as-number":5,"word-wrapper":14,xtend:15}],11:[function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var f in r=Object(arguments[u]))i.call(r,f)&&(s[f]=r[f]);if(n){a=n(r);for(var c=0;c<a.length;c++)o.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},{}],12:[function(t,e,r){var n=t("dtype"),i=t("an-array"),o=t("is-buffer"),a=[0,2,3],s=[2,1,3];e.exports=function(t,e){t&&(i(t)||o(t))||(e=t||{},t=null);for(var r="string"==typeof(e="number"==typeof e?{count:e}:e||{}).type?e.type:"uint16",u="number"==typeof e.count?e.count:1,f=e.start||0,c=!1!==e.clockwise?a:s,h=c[0],p=c[1],l=c[2],y=6*u,d=t||new(n(r))(y),g=0,m=0;g<y;g+=6,m+=4){var b=g+f;d[b+0]=m+0,d[b+1]=m+1,d[b+2]=m+2,d[b+3]=m+h,d[b+4]=m+p,d[b+5]=m+l}return d}},{"an-array":4,dtype:6,"is-buffer":9}],13:[function(t,e,r){var n=t("flatten-vertex-data"),i=!1;function o(t,e,r,o){if(e=e||[],!t||function(t,e,r){if(t.itemSize!==r)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(e)&&Array.isArray(e[0])?n!==e.length*r:n!==e.length}(t,e,r)){e=n(e,o);var a=t&&"function"!=typeof t.setArray;return t&&!a||(a&&!i&&(i=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),t=new THREE.BufferAttribute(e,r)),t.itemSize=r,t.needsUpdate=!0,"function"==typeof t.setArray&&t.setArray(e),t}return n(e,t.array),t.needsUpdate=!0,null}e.exports.attr=function(t,e,r,n,i){"number"!=typeof n&&(n=3);"string"!=typeof i&&(i="float32");if(Array.isArray(r)&&Array.isArray(r[0])&&r[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+r[0].length);var a=o(t.getAttribute(e),r,n,i);a&&t.addAttribute(e,a)},e.exports.index=function(t,e,r,n){"number"!=typeof r&&(r=1);"string"!=typeof n&&(n="uint16");var i=!t.index&&"function"!=typeof t.setIndex,a=o(i?t.getAttribute("index"):t.index,e,r,n);a&&(i?t.addAttribute("index",a):t.index=a)}},{"flatten-vertex-data":7}],14:[function(t,e,r){var n=/\n/,i="\n",o=/\s/;function a(t,e,r,n){var i=t.indexOf(e,r);return-1===i||i>n?n:i}function s(t){return o.test(t)}function u(t,e,r,n){return{start:e,end:e+Math.min(n,r-e)}}e.exports=function(t,r){return e.exports.lines(t,r).map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(t,e){if(0===(e=e||{}).width&&"nowrap"!==e.mode)return[];t=t||"";var r="number"==typeof e.width?e.width:Number.MAX_VALUE,o=Math.max(0,e.start||0),f="number"==typeof e.end?e.end:t.length,c=e.mode,h=e.measure||u;return"pre"===c?function(t,e,r,i,o){for(var a=[],s=r,u=r;u<i&&u<e.length;u++){var f=e.charAt(u),c=n.test(f);if(c||u===i-1){var h=c?u:u+1,p=t(e,s,h,o);a.push(p),s=u+1}}return a}(h,t,o,f,r):function(t,e,r,n,o,u){var f=[],c=o;"nowrap"===u&&(c=Number.MAX_VALUE);for(;r<n&&r<e.length;){for(var h=a(e,i,r,n);r<h&&s(e.charAt(r));)r++;var p=t(e,r,h,c),l=r+(p.end-p.start),y=l+i.length;if(l<h){for(;l>r&&!s(e.charAt(l));)l--;if(l===r)y>r+i.length&&y--,l=y;else for(y=l;l>r&&s(e.charAt(l-i.length));)l--}if(l>=r){var d=t(e,r,l,c);f.push(d)}r=y}return f}(h,t,o,f,r,c)}},{}],15:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},{}]},{},[1])(1)});

//https://wzrd.in/standalone/load-bmfont@latest
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).loadBmfont=t()}}(function(){return function(){return function t(r,e,n){function o(f,a){if(!e[f]){if(!r[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(i)return i(f,!0);var s=new Error("Cannot find module '"+f+"'");throw s.code="MODULE_NOT_FOUND",s}var h=e[f]={exports:{}};r[f][0].call(h.exports,function(t){return o(r[f][1][t]||t)},h,h.exports,t,r,e,n)}return e[f].exports}for(var i="function"==typeof require&&require,f=0;f<n.length;f++)o(n[f]);return o}}()({1:[function(t,r,e){"use strict";e.byteLength=function(t){var r=s(t),e=r[0],n=r[1];return 3*(e+n)/4-n},e.toByteArray=function(t){for(var r,e=s(t),n=e[0],f=e[1],a=new i(function(t,r,e){return 3*(r+e)/4-e}(0,n,f)),u=0,h=f>0?n-4:n,c=0;c<h;c+=4)r=o[t.charCodeAt(c)]<<18|o[t.charCodeAt(c+1)]<<12|o[t.charCodeAt(c+2)]<<6|o[t.charCodeAt(c+3)],a[u++]=r>>16&255,a[u++]=r>>8&255,a[u++]=255&r;2===f&&(r=o[t.charCodeAt(c)]<<2|o[t.charCodeAt(c+1)]>>4,a[u++]=255&r);1===f&&(r=o[t.charCodeAt(c)]<<10|o[t.charCodeAt(c+1)]<<4|o[t.charCodeAt(c+2)]>>2,a[u++]=r>>8&255,a[u++]=255&r);return a},e.fromByteArray=function(t){for(var r,e=t.length,o=e%3,i=[],f=0,a=e-o;f<a;f+=16383)i.push(h(t,f,f+16383>a?a:f+16383));1===o?(r=t[e-1],i.push(n[r>>2]+n[r<<4&63]+"==")):2===o&&(r=(t[e-2]<<8)+t[e-1],i.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=f.length;a<u;++a)n[a]=f[a],o[f.charCodeAt(a)]=a;function s(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function h(t,r,e){for(var o,i,f=[],a=r;a<e;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),f.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return f.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,r,e){"use strict";var n=t("base64-js"),o=t("ieee754");e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function f(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=new Uint8Array(t);return r.__proto__=a.prototype,r}function a(t,r,e){if("number"==typeof t){if("string"==typeof r)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,r,e)}function u(t,r,e){if("string"==typeof t)return function(t,r){"string"==typeof r&&""!==r||(r="utf8");if(!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=0|l(t,r),n=f(e),o=n.write(t,r);o!==e&&(n=n.slice(0,o));return n}(t,r);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(x(t,ArrayBuffer)||t&&x(t.buffer,ArrayBuffer))return function(t,r,e){if(r<0||t.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===r&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,r):new Uint8Array(t,r,e);return n.__proto__=a.prototype,n}(t,r,e);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,r,e);var o=function(t){if(a.isBuffer(t)){var r=0|p(t.length),e=f(r);return 0===e.length?e:(t.copy(e,0,0,r),e)}if(void 0!==t.length)return"number"!=typeof t.length||F(t.length)?f(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return s(t),f(t<0?0:0|p(t))}function c(t){for(var r=t.length<0?0:0|p(t.length),e=f(r),n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function l(t,r){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||x(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===e)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return N(t).length;default:if(o)return n?-1:X(t).length;r=(""+r).toLowerCase(),o=!0}}function y(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function g(t,r,e,n,o){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),F(e=+e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof r&&(r=a.from(r,n)),a.isBuffer(r))return 0===r.length?-1:w(t,r,e,n,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):w(t,[r],e,n,o);throw new TypeError("val must be string, number or Buffer")}function w(t,r,e,n,o){var i,f=1,a=t.length,u=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;f=2,a/=2,u/=2,e/=2}function s(t,r){return 1===f?t[r]:t.readUInt16BE(r*f)}if(o){var h=-1;for(i=e;i<a;i++)if(s(t,i)===s(r,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===u)return h*f}else-1!==h&&(i-=i-h),h=-1}else for(e+u>a&&(e=a-u),i=e;i>=0;i--){for(var c=!0,p=0;p<u;p++)if(s(t,i+p)!==s(r,p)){c=!1;break}if(c)return i}return-1}function v(t,r,e,n){e=Number(e)||0;var o=t.length-e;n?(n=Number(n))>o&&(n=o):n=o;var i=r.length;n>i/2&&(n=i/2);for(var f=0;f<n;++f){var a=parseInt(r.substr(2*f,2),16);if(F(a))return f;t[e+f]=a}return f}function m(t,r,e,n){return H(X(r,t.length-e),t,e,n)}function b(t,r,e,n){return H(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function d(t,r,e,n){return b(t,r,e,n)}function E(t,r,e,n){return H(N(r),t,e,n)}function A(t,r,e,n){return H(function(t,r){for(var e,n,o,i=[],f=0;f<t.length&&!((r-=2)<0);++f)e=t.charCodeAt(f),n=e>>8,o=e%256,i.push(o),i.push(n);return i}(r,t.length-e),t,e,n)}function B(t,r,e){return 0===r&&e===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(r,e))}function U(t,r,e){e=Math.min(t.length,e);for(var n=[],o=r;o<e;){var i,f,a,u,s=t[o],h=null,c=s>239?4:s>223?3:s>191?2:1;if(o+c<=e)switch(c){case 1:s<128&&(h=s);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&s)<<6|63&i)>127&&(h=u);break;case 3:i=t[o+1],f=t[o+2],128==(192&i)&&128==(192&f)&&(u=(15&s)<<12|(63&i)<<6|63&f)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:i=t[o+1],f=t[o+2],a=t[o+3],128==(192&i)&&128==(192&f)&&128==(192&a)&&(u=(15&s)<<18|(63&i)<<12|(63&f)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=c}return function(t){var r=t.length;if(r<=T)return String.fromCharCode.apply(String,t);var e="",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=T));return e}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,r,e){return u(t,r,e)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,r,e){return function(t,r,e){return s(t),t<=0?f(t):void 0!==r?"string"==typeof e?f(t).fill(r,e):f(t).fill(r):f(t)}(t,r,e)},a.allocUnsafe=function(t){return h(t)},a.allocUnsafeSlow=function(t){return h(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,r){if(x(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),x(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(t)||!a.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var e=t.length,n=r.length,o=0,i=Math.min(e,n);o<i;++o)if(t[o]!==r[o]){e=t[o],n=r[o];break}return e<n?-1:n<e?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=a.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var i=t[e];if(x(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},a.byteLength=l,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)y(this,r,r+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)y(this,r,r+3),y(this,r+1,r+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)y(this,r,r+7),y(this,r+1,r+6),y(this,r+2,r+5),y(this,r+3,r+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?U(this,0,t):function(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,r,e);case"utf8":case"utf-8":return U(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return M(this,r,e);case"base64":return B(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,r,e,n,o){if(x(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),r<0||e>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=e)return 0;if(n>=o)return-1;if(r>=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),f=(e>>>=0)-(r>>>=0),u=Math.min(i,f),s=this.slice(n,o),h=t.slice(r,e),c=0;c<u;++c)if(s[c]!==h[c]){i=s[c],f=h[c];break}return i<f?-1:f<i?1:0},a.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},a.prototype.indexOf=function(t,r,e){return g(this,t,r,e,!0)},a.prototype.lastIndexOf=function(t,r,e){return g(this,t,r,e,!1)},a.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(e)?(e>>>=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var o=this.length-r;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return v(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return b(this,t,r,e);case"latin1":case"binary":return d(this,t,r,e);case"base64":return E(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function L(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(127&t[o]);return n}function M(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(t[o]);return n}function R(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=r;i<e;++i)o+=q(t[i]);return o}function C(t,r,e){for(var n=t.slice(r,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function O(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function I(t,r,e,n,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<i)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function _(t,r,e,n,o,i){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function k(t,r,e,n,i){return r=+r,e>>>=0,i||_(t,0,e,4),o.write(t,r,e,n,23,4),e+4}function S(t,r,e,n,i){return r=+r,e>>>=0,i||_(t,0,e,8),o.write(t,r,e,n,52,8),e+8}a.prototype.slice=function(t,r){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(r=void 0===r?e:~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var n=this.subarray(t,r);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(t,r,e){t>>>=0,r>>>=0,e||O(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n},a.prototype.readUIntBE=function(t,r,e){t>>>=0,r>>>=0,e||O(t,r,this.length);for(var n=this[t+--r],o=1;r>0&&(o*=256);)n+=this[t+--r]*o;return n},a.prototype.readUInt8=function(t,r){return t>>>=0,r||O(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,r){return t>>>=0,r||O(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,r){return t>>>=0,r||O(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,r){return t>>>=0,r||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,r){return t>>>=0,r||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,r,e){t>>>=0,r>>>=0,e||O(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*r)),n},a.prototype.readIntBE=function(t,r,e){t>>>=0,r>>>=0,e||O(t,r,this.length);for(var n=r,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*r)),i},a.prototype.readInt8=function(t,r){return t>>>=0,r||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,r){t>>>=0,r||O(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt16BE=function(t,r){t>>>=0,r||O(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt32LE=function(t,r){return t>>>=0,r||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,r){return t>>>=0,r||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,r){return t>>>=0,r||O(t,4,this.length),o.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,r){return t>>>=0,r||O(t,4,this.length),o.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,r){return t>>>=0,r||O(t,8,this.length),o.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,r){return t>>>=0,r||O(t,8,this.length),o.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r>>>=0,e>>>=0,n)||I(this,t,r,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[r]=255&t;++i<e&&(o*=256);)this[r+i]=t/o&255;return r+e},a.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r>>>=0,e>>>=0,n)||I(this,t,r,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[r+o]=255&t;--o>=0&&(i*=256);)this[r+o]=t/i&255;return r+e},a.prototype.writeUInt8=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,1,255,0),this[r]=255&t,r+1},a.prototype.writeUInt16LE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},a.prototype.writeUInt16BE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},a.prototype.writeUInt32LE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},a.prototype.writeUInt32BE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},a.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var o=Math.pow(2,8*e-1);I(this,t,r,e,o-1,-o)}var i=0,f=1,a=0;for(this[r]=255&t;++i<e&&(f*=256);)t<0&&0===a&&0!==this[r+i-1]&&(a=1),this[r+i]=(t/f>>0)-a&255;return r+e},a.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var o=Math.pow(2,8*e-1);I(this,t,r,e,o-1,-o)}var i=e-1,f=1,a=0;for(this[r+i]=255&t;--i>=0&&(f*=256);)t<0&&0===a&&0!==this[r+i+1]&&(a=1),this[r+i]=(t/f>>0)-a&255;return r+e},a.prototype.writeInt8=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},a.prototype.writeInt16LE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},a.prototype.writeInt16BE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},a.prototype.writeInt32LE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},a.prototype.writeInt32BE=function(t,r,e){return t=+t,r>>>=0,e||I(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},a.prototype.writeFloatLE=function(t,r,e){return k(this,t,r,!0,e)},a.prototype.writeFloatBE=function(t,r,e){return k(this,t,r,!1,e)},a.prototype.writeDoubleLE=function(t,r,e){return S(this,t,r,!0,e)},a.prototype.writeDoubleBE=function(t,r,e){return S(this,t,r,!1,e)},a.prototype.copy=function(t,r,e,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var o=n-e;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,e,n);else if(this===t&&e<r&&r<n)for(var i=o-1;i>=0;--i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,n),r);return o},a.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var i;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(i=r;i<e;++i)this[i]=t;else{var f=a.isBuffer(t)?t:a.from(t,n),u=f.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<e-r;++i)this[i+r]=f[i%u]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,r){var e;r=r||1/0;for(var n=t.length,o=null,i=[],f=0;f<n;++f){if((e=t.charCodeAt(f))>55295&&e<57344){if(!o){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(f+1===n){(r-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(r-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((r-=1)<0)break;i.push(e)}else if(e<2048){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function N(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,r,e,n){for(var o=0;o<n&&!(o+e>=r.length||o>=t.length);++o)r[o+e]=t[o];return o}function x(t,r){return t instanceof r||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===r.name}function F(t){return t!=t}},{"base64-js":1,ieee754:3}],3:[function(t,r,e){e.read=function(t,r,e,n,o){var i,f,a=8*o-n-1,u=(1<<a)-1,s=u>>1,h=-7,c=e?o-1:0,p=e?-1:1,l=t[r+c];for(c+=p,i=l&(1<<-h)-1,l>>=-h,h+=a;h>0;i=256*i+t[r+c],c+=p,h-=8);for(f=i&(1<<-h)-1,i>>=-h,h+=n;h>0;f=256*f+t[r+c],c+=p,h-=8);if(0===i)i=1-s;else{if(i===u)return f?NaN:1/0*(l?-1:1);f+=Math.pow(2,n),i-=s}return(l?-1:1)*f*Math.pow(2,i-n)},e.write=function(t,r,e,n,o,i){var f,a,u,s=8*i-o-1,h=(1<<s)-1,c=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,y=n?1:-1,g=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,f=h):(f=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-f))<1&&(f--,u*=2),(r+=f+c>=1?p/u:p*Math.pow(2,1-c))*u>=2&&(f++,u/=2),f+c>=h?(a=0,f=h):f+c>=1?(a=(r*u-1)*Math.pow(2,o),f+=c):(a=r*Math.pow(2,c-1)*Math.pow(2,o),f=0));o>=8;t[e+l]=255&a,l+=y,a/=256,o-=8);for(f=f<<o|a,s+=o;s>0;t[e+l]=255&f,l+=y,f/=256,s-=8);t[e+l-y]|=128*g}},{}],4:[function(t,r,e){(function(e){var n=t("xhr"),o=function(){},i=t("parse-bmfont-ascii"),f=t("parse-bmfont-xml"),a=t("parse-bmfont-binary"),u=t("./lib/is-binary"),s=t("xtend"),h=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;r.exports=function(t,r){r="function"==typeof r?r:o,"string"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(h)return s(t,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var r=new self.XMLHttpRequest;return r.overrideMimeType("text/plain; charset=x-user-defined"),s({xhr:r},t)}(t)),n(t,function(n,s,h){if(n)return r(n);if(!/^2/.test(s.statusCode))return r(new Error("http status code: "+s.statusCode));if(!h)return r(new Error("no body result"));var c,p,l=!1;if(c=h,"[object ArrayBuffer]"===Object.prototype.toString.call(c)){var y=new Uint8Array(h);h=new e(y,"binary")}u(h)&&(l=!0,"string"==typeof h&&(h=new e(h,"binary"))),l||(e.isBuffer(h)&&(h=h.toString(t.encoding)),h=h.trim());try{var g=s.headers["content-type"];p=l?a(h):/json/.test(g)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(g)||"<"===h.charAt(0)?f(h):i(h)}catch(t){r(new Error("error parsing font "+t.message)),r=o}r(null,p)})}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":5,buffer:2,"parse-bmfont-ascii":11,"parse-bmfont-binary":12,"parse-bmfont-xml":13,xhr:17,xtend:19}],5:[function(t,r,e){(function(e){var n=t("buffer-equal"),o=new e([66,77,70,3]);r.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&n(t.slice(0,4),o)}}).call(this,t("buffer").Buffer)},{buffer:2,"buffer-equal":6}],6:[function(t,r,e){var n=t("buffer").Buffer;r.exports=function(t,r){if(n.isBuffer(t)&&n.isBuffer(r)){if("function"==typeof t.equals)return t.equals(r);if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}}},{buffer:2}],7:[function(t,r,e){"use strict";var n=t("is-callable"),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;r.exports=function(t,r,e){if(!n(r))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=e),"[object Array]"===o.call(t)?function(t,r,e){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==e?r(t[n],n,t):r.call(e,t[n],n,t))}(t,r,f):"string"==typeof t?function(t,r,e){for(var n=0,o=t.length;n<o;n++)null==e?r(t.charAt(n),n,t):r.call(e,t.charAt(n),n,t)}(t,r,f):function(t,r,e){for(var n in t)i.call(t,n)&&(null==e?r(t[n],n,t):r.call(e,t[n],n,t))}(t,r,f)}},{"is-callable":9}],8:[function(t,r,e){(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},r.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,r,e){"use strict";var n=Function.prototype.toString,o=/^\s*class\b/,i=function(t){try{var r=n.call(t);return o.test(r)}catch(t){return!1}},f=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;r.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!i(t)&&(n.call(t),!0)}catch(t){return!1}}(t);if(i(t))return!1;var r=f.call(t);return"[object Function]"===r||"[object GeneratorFunction]"===r}},{}],10:[function(t,r,e){r.exports=function(t){var r=n.call(t);return"[object Function]"===r||"function"==typeof t&&"[object RegExp]"!==r||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},{}],11:[function(t,r,e){function n(t,r){if(!(t=t.replace(/\t+/g," ").trim()))return null;var e=t.indexOf(" ");if(-1===e)throw new Error("no named row at line "+r);var n=t.substring(0,e);t=(t=(t=(t=t.substring(e+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var i=[],f=0;f<t.length;f++){var a=t[f];0===f?i.push({key:a[0],data:""}):f===t.length-1?i[i.length-1].data=o(a[0]):(i[i.length-1].data=o(a[0]),i.push({key:a[1],data:""}))}var u={key:n,data:{}};return i.forEach(function(t){u.data[t.key]=t.data}),u}function o(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?function(t){return t.split(",").map(function(t){return parseInt(t,10)})}(t):parseInt(t,10):""}r.exports=function(t){if(!t)throw new Error("no data provided");var r={pages:[],chars:[],kernings:[]},e=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===e.length)throw new Error("no data in BMFont file");for(var o=0;o<e.length;o++){var i=n(e[o],o);if(i)if("page"===i.key){if("number"!=typeof i.data.id)throw new Error("malformed file at line "+o+" -- needs page id=N");if("string"!=typeof i.data.file)throw new Error("malformed file at line "+o+' -- needs page file="path"');r.pages[i.data.id]=i.data.file}else"chars"===i.key||"kernings"===i.key||("char"===i.key?r.chars.push(i.data):"kerning"===i.key?r.kernings.push(i.data):r[i.key]=i.data)}return r}},{}],12:[function(t,r,e){var n=[66,77,70];function o(t,r,e){if(e>r.length-1)return 0;var n=r.readUInt8(e++),o=r.readInt32LE(e);switch(e+=4,n){case 1:t.info=function(t,r){var e={};e.size=t.readInt16LE(r);var n=t.readUInt8(r+2);e.smooth=n>>7&1,e.unicode=n>>6&1,e.italic=n>>5&1,e.bold=n>>4&1,n>>3&1&&(e.fixedHeight=1);return e.charset=t.readUInt8(r+3)||"",e.stretchH=t.readUInt16LE(r+4),e.aa=t.readUInt8(r+6),e.padding=[t.readInt8(r+7),t.readInt8(r+8),t.readInt8(r+9),t.readInt8(r+10)],e.spacing=[t.readInt8(r+11),t.readInt8(r+12)],e.outline=t.readUInt8(r+13),e.face=function(t,r){return i(t,r).toString("utf8")}(t,r+14),e}(r,e);break;case 2:t.common=function(t,r){var e={};e.lineHeight=t.readUInt16LE(r),e.base=t.readUInt16LE(r+2),e.scaleW=t.readUInt16LE(r+4),e.scaleH=t.readUInt16LE(r+6),e.pages=t.readUInt16LE(r+8);t.readUInt8(r+10);return e.packed=0,e.alphaChnl=t.readUInt8(r+11),e.redChnl=t.readUInt8(r+12),e.greenChnl=t.readUInt8(r+13),e.blueChnl=t.readUInt8(r+14),e}(r,e);break;case 3:t.pages=function(t,r,e){for(var n=[],o=i(t,r),f=o.length+1,a=e/f,u=0;u<a;u++)n[u]=t.slice(r,r+o.length).toString("utf8"),r+=f;return n}(r,e,o);break;case 4:t.chars=function(t,r,e){for(var n=[],o=e/20,i=0;i<o;i++){var f={},a=20*i;f.id=t.readUInt32LE(r+0+a),f.x=t.readUInt16LE(r+4+a),f.y=t.readUInt16LE(r+6+a),f.width=t.readUInt16LE(r+8+a),f.height=t.readUInt16LE(r+10+a),f.xoffset=t.readInt16LE(r+12+a),f.yoffset=t.readInt16LE(r+14+a),f.xadvance=t.readInt16LE(r+16+a),f.page=t.readUInt8(r+18+a),f.chnl=t.readUInt8(r+19+a),n[i]=f}return n}(r,e,o);break;case 5:t.kernings=function(t,r,e){for(var n=[],o=e/10,i=0;i<o;i++){var f={},a=10*i;f.first=t.readUInt32LE(r+0+a),f.second=t.readUInt32LE(r+4+a),f.amount=t.readInt16LE(r+8+a),n[i]=f}return n}(r,e,o)}return 5+o}function i(t,r){for(var e=r;e<t.length&&0!==t[e];e++);return t.slice(r,e)}r.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!n.every(function(r,e){return t.readUInt8(e)===r}))throw new Error("BMFont missing BMF byte header");var r=3;if(t.readUInt8(r++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var e={kernings:[],chars:[]},i=0;i<5;i++)r+=o(e,t,r);return e}},{}],13:[function(t,r,e){var n=t("./parse-attribs"),o=t("xml-parse-from-string"),i={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function f(t){return function(t){for(var r=[],e=0;e<t.attributes.length;e++)r.push(t.attributes[e]);return r}(t).reduce(function(t,r){var e;return t[(e=r.nodeName,i[e.toLowerCase()]||e)]=r.nodeValue,t},{})}r.exports=function(t){t=t.toString();var r=o(t),e={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(t){var o=r.getElementsByTagName(t)[0];o&&(e[t]=n(f(o)))});var i=r.getElementsByTagName("pages")[0];if(!i)throw new Error("malformed file -- no <pages> element");for(var a=i.getElementsByTagName("page"),u=0;u<a.length;u++){var s=a[u],h=parseInt(s.getAttribute("id"),10),c=s.getAttribute("file");if(isNaN(h))throw new Error('malformed file -- page "id" attribute is NaN');if(!c)throw new Error('malformed file -- needs page "file" attribute');e.pages[parseInt(h,10)]=c}return["chars","kernings"].forEach(function(t){var o=r.getElementsByTagName(t)[0];if(o)for(var i=t.substring(0,t.length-1),a=o.getElementsByTagName(i),u=0;u<a.length;u++){var s=a[u];e[t].push(n(f(s)))}}),e}},{"./parse-attribs":14,"xml-parse-from-string":18}],14:[function(t,r,e){r.exports=function(t){for(var r in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==r&&"charset"!==r&&(t[r]="padding"===r||"spacing"===r?t[r].split(",").map(function(t){return parseInt(t,10)}):parseInt(t[r],10));return t}},{}],15:[function(t,r,e){var n=t("trim"),o=t("for-each");r.exports=function(t){if(!t)return{};var r={};return o(n(t).split("\n"),function(t){var e,o=t.indexOf(":"),i=n(t.slice(0,o)).toLowerCase(),f=n(t.slice(o+1));void 0===r[i]?r[i]=f:(e=r[i],"[object Array]"===Object.prototype.toString.call(e)?r[i].push(f):r[i]=[r[i],f])}),r}},{"for-each":7,trim:16}],16:[function(t,r,e){(e=r.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},{}],17:[function(t,r,e){"use strict";var n=t("global/window"),o=t("is-function"),i=t("parse-headers"),f=t("xtend");function a(t,r,e){var n=t;return o(r)?(e=r,"string"==typeof t&&(n={uri:t})):n=f(r,{uri:t}),n.callback=e,n}function u(t,r,e){return s(r=a(t,r,e))}function s(t){if(void 0===t.callback)throw new Error("callback argument missing");var r=!1,e=function(e,n,o){r||(r=!0,t.callback(e,n,o))};function n(){var t=void 0;if(t=h.response?h.response:h.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var r=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!r)return t.responseXML}catch(t){}return null}(h),v)try{t=JSON.parse(t)}catch(t){}return t}function o(t){return clearTimeout(c),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,e(t,m)}function f(){if(!s){var r;clearTimeout(c),r=t.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var o=m,f=null;return 0!==r?(o={body:n(),statusCode:r,method:l,headers:{},url:p,rawRequest:h},h.getAllResponseHeaders&&(o.headers=i(h.getAllResponseHeaders()))):f=new Error("Internal XMLHttpRequest Error"),e(f,o,o.body)}}var a,s,h=t.xhr||null;h||(h=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var c,p=h.url=t.uri||t.url,l=h.method=t.method||"GET",y=t.body||t.data,g=h.headers=t.headers||{},w=!!t.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:h};if("json"in t&&!1!==t.json&&(v=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),y=JSON.stringify(!0===t.json?y:t.json))),h.onreadystatechange=function(){4===h.readyState&&setTimeout(f,0)},h.onload=f,h.onerror=o,h.onprogress=function(){},h.onabort=function(){s=!0},h.ontimeout=o,h.open(l,p,!w,t.username,t.password),w||(h.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(c=setTimeout(function(){if(!s){s=!0,h.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}},t.timeout)),h.setRequestHeader)for(a in g)g.hasOwnProperty(a)&&h.setRequestHeader(a,g[a]);else if(t.headers&&!function(t){for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(h.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(h),h.send(y||null),h}r.exports=u,r.exports.default=u,u.XMLHttpRequest=n.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,function(t,r){for(var e=0;e<t.length;e++)r(t[e])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(r,e,n){return(e=a(r,e,n)).method=t.toUpperCase(),s(e)}})},{"global/window":8,"is-function":10,"parse-headers":15,xtend:19}],18:[function(t,r,e){r.exports=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var r=new self.ActiveXObject("Microsoft.XMLDOM");return r.async="false",r.loadXML(t),r}:function(t){var r=document.createElement("div");return r.innerHTML=t,r}},{}],19:[function(t,r,e){r.exports=function(){for(var t={},r=0;r<arguments.length;r++){var e=arguments[r];for(var o in e)n.call(e,o)&&(t[o]=e[o])}return t};var n=Object.prototype.hasOwnProperty},{}]},{},[4])(4)});
